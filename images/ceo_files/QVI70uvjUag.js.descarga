;/*FB_PKG_DELIM*/

__d("CometAlbumUploadItemAttachmentDescription.react",["fbt","CometFormTextArea.react","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b,d=a.attachment,e=a.mediaIndex,f=c("useComposerViewStateDispatcher")();a=d.state;a=a!=="PREEXISTING"&&a!=="UPLOADED";b=(d.state==="PREEXISTING"||d.state==="UPLOADED")&&(d.fileType==="PHOTO"||d.fileType==="VIDEO")?(b=d.data)==null?void 0:(b=b.message)==null?void 0:b.text:null;var g=k(function(a){if(d.fileType==="PHOTO"&&d.state==="UPLOADED"){var b=babelHelpers["extends"]({},d.data,{message:{text:a}});f({index:e,media:babelHelpers["extends"]({},d,{data:b}),type:"SAVE_MEDIA_EDITS"})}else if(d.fileType==="VIDEO"&&d.state==="UPLOADED"){b=babelHelpers["extends"]({},d.data,{message:{text:a}});f({index:e,media:babelHelpers["extends"]({},d,{data:b}),type:"SAVE_MEDIA_EDITS"})}},[d,f,e]);return j.jsx("div",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",draggable:!1,children:j.jsx(c("CometFormTextArea.react"),{disabled:a,label:h._("__JHASH__5vdpk7MUDm7__JHASH__"),minRows:2,onValueChange:g,value:(a=b)!=null?a:""})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometAlbumUploadItemAttachmentLocation.react",["fbt","ix","CometPhotoAlbumGridItemUIAction.react","CometTooltip_DEPRECATED.react","JSResourceForInteraction","TetraIcon.react","composerMediaAttachmentReducer","fbicon","react","useCometLazyDialog","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useCallback,m=c("JSResourceForInteraction")("CometPhotoAlbumLocationDialog.react").__setRef("CometAlbumUploadItemAttachmentLocation.react");function a(a){var b=a.attachment,e=a.mediaIndex;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var f=c("useComposerViewStateDispatcher")(),g=b.locationTag,j=g==null?void 0:g.placeID;a=c("useCometLazyDialog")(m);var n=a[0],o=l(function(a,c){if(a==null)return;var d=a.label;a=a.rawData;var g=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);a=babelHelpers["extends"]({},a,{name:d,placeID:g,showAttachment:!1});g===j?f({index:e,media:babelHelpers["extends"]({},b,{locationTag:null}),type:"SAVE_MEDIA_EDITS"}):f({index:e,media:babelHelpers["extends"]({},b,{locationTag:a}),type:"SAVE_MEDIA_EDITS"});c&&c()},[b,f,e,j]);a=l(function(){n({locationTag:g,onPressEntry:o,placeID:j})},[o,g,j,n]);var p=g!=null;return k.jsx(c("CometTooltip_DEPRECATED.react"),{tooltip:g!=null?g.name:void 0,children:k.jsx(c("CometPhotoAlbumGridItemUIAction.react"),{"aria-label":p?h._("__JHASH__ns7A0PoirDl__JHASH__"):h._("__JHASH__0wgkpxTL1lC__JHASH__"),onPress:a,children:k.jsx(c("TetraIcon.react"),{color:p?"highlight":"primary",icon:d("fbicon")._(i("481941"),16)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometAlbumUploadItemAttachmentTags.react",["fbt","ix","CometPhotoAlbumGridItemUIAction.react","CometPhotoAlbumGridItemUIActionIcon.react","JSResourceForInteraction","fbicon","react","useCometLazyDialog","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useCallback,m=c("JSResourceForInteraction")("CometPhotoAlbumTagsDialog.react").__setRef("CometAlbumUploadItemAttachmentTags.react");function a(a){var b=a.attachment,e=a.mediaIndex,f=c("useComposerViewStateDispatcher")(),g=b.data,j=b.data.tags;a=((a=j)!=null?a:[]).length;var n=c("useCometLazyDialog")(m),o=n[0],p=l(function(a){f({index:e,media:babelHelpers["extends"]({},b,{data:babelHelpers["extends"]({},g,{tags:a})}),type:"SAVE_MEDIA_EDITS"})},[b,g,f,e]);n=l(function(){o({onChange:p,tags:j})},[p,o,j]);return k.jsx(c("CometPhotoAlbumGridItemUIAction.react"),{"aria-label":h._("__JHASH__GiwPq8HiLmk__JHASH__"),disabled:a===0,onPress:n,children:k.jsx(c("CometPhotoAlbumGridItemUIActionIcon.react"),{count:a,icon:d("fbicon")._(i("502471"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMediaEditorTagComposerFocusHandler.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var c=a.children,d=a.setInputFocused,e=a.setShowLoadingIndicator,f=a.setTypeaheadPressed,g=a.typeaheadPressed;return i.jsx("div",{className:"x1jx94hy x1exxf4d x1y71gwh x1nb4dca xu1343h x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x78zum5 xdt5ytf x1qughib x1gslohp xw3qccf x12nagc xsgj6o6 x256u9z x1iorvi4 x150jy0e xjkvuk6 x1e558r4",onBlur:function(){g||d(!1),e(!1)},onFocus:function(){d(!0)},onMouseDown:function(){f(!0)},onMouseUp:function(){f(!1)},ref:b,children:c})}a.displayName=a.name+" [from "+f.id+"]";c=b;g["default"]=c}),98);
__d("CometMediaEditorTagComposer.react",["fbt","ix","BaseContextualLayerOrientationContext","CometInputWithCommands.react","CometMediaEditorTagComposerFocusHandler.react","CometMediaViewerMentionsTypeaheadContextualLayer.react","CometMediaViewerMentionsTypeaheadListItem.react","CometTextInputWithIcon.react","cometPushToast","fbicon","react","unrecoverableViolation","useCometMediaViewerMentionsDataSourceResolverConfig","useCometMentionsARIAProperties","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useLayoutEffect,p=b.useMemo,q=b.useRef,r=b.useState;e=k.forwardRef(a);function a(a,b){var e=a.addTag,f=a.existingTags,g=a.height,j=a.onSubmitted,s=a.repositionDropdown,t=a.width,u=a.xPos,v=a.yPos;a=r(!1);var w=a[0],x=a[1];a=r(!1);var y=a[0],z=a[1];a=r(!1);var A=a[0],B=a[1];a=r(!0);var C=a[0];a=a[1];var D=c("useCometMentionsARIAProperties")(),E=D[0];D=D[1];var F=q(null),G=q(null),H=m(c("BaseContextualLayerOrientationContext")),I=H.position,J=q(I);o(function(){J.current=I},[I]);n(function(){if(F!=null){var a=F.current;a!=null&&a.focus()}},[F]);H=r("");var K=H[0],L=H[1];H=l(function(){return F.current},[F]);var M=H();H=l(function(a){L(a.target.value),s&&s()},[s]);var N=l(function(a){a={source:"manual",taggee:a,x:u/t*100,y:v/g*100};e(a);x(!0);j!=null&&j()},[u,t,v,g,e,j]),O=M!=null&&y,P=p(function(){return{description:h._("__JHASH__PUDYHkv2LkA__JHASH__"),handler:function(){M&&M.blur()}}},[M]),Q=p(function(){return!O?void 0:{description:h._("__JHASH__1rmS3rjS1gy__JHASH__"),handler:function(){var a=G.current;a&&a.moveUp()}}},[O]),R=p(function(){return!O?void 0:{description:h._("__JHASH__QAJhEWFYsd0__JHASH__"),handler:function(){var a=G.current;a&&a.moveDown()}}},[O]),S=p(function(){return!O?void 0:{description:h._("__JHASH__nAtIplJ-Xqx__JHASH__"),handler:function(){var a=G.current;a!=null&&a.hasSelection()&&a.select()}}},[O]),T=p(function(){return{description:h._("__JHASH__nAtIplJ-Xqx__JHASH__"),handler:function(){var a=G.current;if(a==null){!w&&K!=null&&K.length!==0&&N({name:K});return}if(a.hasSelection())a&&a.select();else if(!w&&K!=null&&K.length!==0){if(((a=f)!=null?a:[]).includes(K)){d("cometPushToast").cometPushSimpleToast(h._("__JHASH__HsyMoVUcMH8__JHASH__"),4e3);return}N({name:K})}}}},[f,N,w,K]),U=l(function(a){if(!w){var b;if(((b=f)!=null?b:[]).map(function(a){return(a=a.taggee)==null?void 0:a.id}).includes(a.key)){d("cometPushToast").cometPushSimpleToast(h._("__JHASH__HsyMoVUcMH8__JHASH__"),4e3);return}b=a.key;var c=a.label;a=a.rawData;var e=null;a.type==="MENTION_SEARCH_RESULT"&&(e=a.photoURI);N({id:b,image_uri:e,name:c})}z(!1);B(!1);L("")},[f,N,w]),V=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("CometMediaViewerMentionsTypeaheadListItem.react")}),W=c("useCometMediaViewerMentionsDataSourceResolverConfig")("");W=W.resolver;W=W(K);var X=W.dataSource;W=W.searchResult;if(X==null)throw c("unrecoverableViolation")("CometMediaEditorTagComposer strategy resolver returned no dataSource","comet_composer");if(X==null||W==null)throw c("unrecoverableViolation")("CometMediaViewerTagComposer strategy resolver returned no dataSource","comet_ui");var Y=J.current;y=M!=null&&y?k.jsx(c("CometMediaViewerMentionsTypeaheadContextualLayer.react"),{ariaProps:{role:"listbox"},dataSource:X,onAriaChange:D,onResultsLoaded:s,onSelectedEntry:U,query:W.matchingString,ref:G,showLoadingIndicator:Y!==I?!1:C,viewStrategyRenderer:V},"mentions-typehaead"):null;return k.jsxs(c("CometMediaEditorTagComposerFocusHandler.react"),{ref:b,setInputFocused:z,setShowLoadingIndicator:a,setTypeaheadPressed:B,typeaheadPressed:A,children:[I==="above"?y:null,k.jsx(c("CometInputWithCommands.react"),{down:R,enter:T,esc:P,tab:S,up:Q,children:k.jsx(c("CometTextInputWithIcon.react"),{"aria-activedescendant":y!=null?E.ariaActiveDescendantID:void 0,"aria-controls":y!=null?E.ariaControls:void 0,"aria-expanded":y!=null,"aria-label":h._("__JHASH__aQnjyK9qQxF__JHASH__"),autoComplete:"off",disabled:w,icon:d("fbicon")._(i("491282"),16),iconColor:"tertiary",onChange:H,placeholder:h._("__JHASH__xOA4hQ8Zvwf__JHASH__"),ref:F,role:"combobox",type:"text",value:K})}),I==="below"?y:null]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("CometAlbumUploadItemAttachmentPhotoTagger.react",["fbt","CometImage.react","CometMediaEditorTagComposer.react","CometPhotoAlbumGridItemBeingTaggedContext.react","CometPhotoEditorTagContextualRectangle.react","CometPhotoTaggingConstants","CometPressable.react","CometTooltip_DEPRECATED.react","react","useCometPhotoTag","useContextualTagBoxReposition"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useRef,m={image:{height:"xt7dq6l",maxHeight:"xmz0i5r",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageContainer:{display:"x78zum5",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",position:"x1n2onr6",$$css:!0}};function a(a){var b,e=a.alt,f=a.height,g=a.imageURL,i=a.loading,n=a.onApplyTag,o=a.onError,p=a.tags,q=a.width,r=l(null);a=l(null);var s=l(null),t=d("CometPhotoAlbumGridItemBeingTaggedContext.react").useCometPhotoAlbumGridItemBeingTagged(),u=t[0],v=t[1];t=k(function(){if(r instanceof HTMLImageElement){var a=r.height,b=r.width;if(f==null||q==null||f===0||q===0)return 1;b=Math.min(q,b)/q;a=Math.min(f,a)/f;return Math.min(a,b)}return 1},[f,r,q]);u=c("useCometPhotoTag")({containerRef:s,imageRef:r,isEnabled:u===g,renderScale:t,tagBoxSize:d("CometPhotoTaggingConstants").TAGGING_BOX_SIZE,taggerRef:a});var w=u.onClear,x=u.onTrigger;t=u.photoPosition;u=u.tagBoxSize;var y=t!=null,z=function(a){v(g),x(a)},A=c("useContextualTagBoxReposition")(),B=A.ref;A=A.reposition;var C=h._("__JHASH__dwiQFJln6MM__JHASH__"),D=function(a){n(a),w()};b=(b=t)!=null?b:{};var E=b.offsetX,F=b.offsetY,G=b.xPos;b=b.yPos;E=G+E;F=b+F;return j.jsx(c("CometTooltip_DEPRECATED.react"),{align:"middle",position:"above",tooltip:y?null:C,children:j.jsxs(c("CometPressable.react"),{"aria-label":C,disabled:y,onPress:z,ref:s,testid:void 0,xstyle:m.imageContainer,children:[j.jsx(c("CometImage.react"),{alt:e,draggable:!1,loading:i,onError:o,ref:r,src:g,xstyle:m.image}),t!=null&&j.jsx(c("CometPhotoEditorTagContextualRectangle.react"),{onPress:w,ref:B,tagBoxHeight:u,tagBoxWidth:u,xPos:E,yPos:F,children:j.jsx(c("CometMediaEditorTagComposer.react"),{addTag:D,existingTags:p,height:t.imageHeight,ref:a,repositionDropdown:A,width:t.imageWidth,xPos:G,yPos:b})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometAlbumUploadPreview.react",["CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{height:"xt7dq6l",maxHeight:"xmz0i5r",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0}};function a(a){var b=a.alt,d=a.imageURL,e=a.loading;a=a.onError;return i.jsx("div",{className:"x78zum5 xl56j7k xmz0i5r x1n2onr6",children:i.jsx(c("CometImage.react"),{alt:b,draggable:!1,loading:e,onError:a,src:d,xstyle:j.image})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentPhoto.react",["CollageItemFallback.react","CometAlbumUploadItemAttachmentPhotoTagger.react","CometAlbumUploadPreview.react","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.attachment,d=a.mediaIndex;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var e=c("useComposerViewStateDispatcher")(),f=b.data;a=b.file;var g=b.fileObjectURL,h=b.fileType,l=b.height,m=b.width;a=a.name;var n=j(function(){return e({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},[b,e]),o=k(function(){if(b.useCDNPreview===!0&&b.uploadedImageURL!=null)return b.uploadedImageURL;return g!=null&&b.useCDNPreview!==!0?g:null},[b,g]);if(o==null)return i.jsx("div",{className:"x5yr21d xh8yej3",children:i.jsx(c("CollageItemFallback.react"),{fileType:h,filename:a})});if(c("CometAlbumUploadItemAttachmentPhotoTagger.react")&&b.state==="UPLOADED"){h=f.tags;var p=h!=null?h.filter(Boolean):[];h=function(a){e({index:d,media:babelHelpers["extends"]({},b,{data:babelHelpers["extends"]({},f,{tags:[].concat(p,[a])})}),type:"SAVE_MEDIA_EDITS"})};return i.jsx(c("CometAlbumUploadItemAttachmentPhotoTagger.react"),{alt:a,height:l,imageURL:o,loading:"lazy",onApplyTag:h,onError:n,tags:p,width:m})}return i.jsx(c("CometAlbumUploadPreview.react"),{alt:a,imageURL:o,loading:"lazy",onError:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentTop.react",["ix","CometAlbumUploadItemAttachmentPhoto.react","CometErrorBoundary.react","CometPlaceholder.react","TetraIcon.react","deferredLoadComponent","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferred")("CometLocalVideoFileThumbnailSuspense.react").__setRef("CometAlbumUploadItemAttachmentTop.react"));function a(a){var b=a.attachment,e=a.children;a=a.mediaIndex;return j.jsxs(j.Fragment,{children:[b.fileType==="PHOTO"?j.jsx(c("CometAlbumUploadItemAttachmentPhoto.react"),{attachment:b,mediaIndex:a}):j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(h("1183332"),32)})},children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,{file:b.file,height:100,width:100})})}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemPhotoBackdateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6456388654457864"}),null);
__d("CometAlbumUploadItemPhotoBackdateQuery.graphql",["CometAlbumUploadItemPhotoBackdateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAlbumUploadItemPhotoBackdateQuery",selections:[{alias:null,args:c,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoBackdateButton_photo"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAlbumUploadItemPhotoBackdateQuery",selections:[{alias:null,args:c,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:"BackdatedTime",kind:"LinkedField",name:"individual_backdated_time",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_backdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometAlbumUploadItemPhotoBackdateQuery_facebookRelayOperation"),metadata:{},name:"CometAlbumUploadItemPhotoBackdateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometAlbumUploadItemPhotoBackdate.react",["CometAlbumUploadItemPhotoBackdateQuery.graphql","CometPhotoBackdateButton.react","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.photoID;var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometAlbumUploadItemPhotoBackdateQuery.graphql"),{id:a});return j.jsx(c("CometPhotoBackdateButton.react"),{photo$key:e.photo,photoID:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemDeleteButton.react",["fbt","ix","TetraCircleButton.react","cometIsMimeTypeForMedia","fbicon","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.attachment,e=c("useComposerViewStateDispatcher")();a=l(function(){e({attachment:b,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})},[b,e]);return k.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478232"),16),label:d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(b==null?void 0:b.fileType)?h._("__JHASH__uao6yLruw4B__JHASH__"):h._("__JHASH__JD6caVi6wjH__JHASH__"),onPress:a,size:32,type:"dark-overlay"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometAlbumUploadItemSideActions.react",["fbt","ix","CometAlbumUploadItemDeleteButton.react","CometLazyPopoverTrigger.react","JSResourceForInteraction","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("JSResourceForInteraction")("CometAlbumUploadItemMenu.react").__setRef("CometAlbumUploadItemSideActions.react");function a(a){a=a.attachment;return a.fileType==="PHOTO"&&a.state==="UPLOADED"?k.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{attachment:a},popoverResource:l,preloadTrigger:"button",children:function(a,b,e,f,g,j){return k.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("484386"),16),label:h._("__JHASH__vsPR1PMxOLr__JHASH__"),onHoverIn:f,onHoverOut:g,onPress:b,onPressIn:j,ref:a,size:32,testid:void 0,type:"dark-overlay"})}}):k.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometAlbumUploadItemAttachment.react",["ix","CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemAttachmentLocation.react","CometAlbumUploadItemAttachmentTags.react","CometAlbumUploadItemAttachmentTop.react","CometAlbumUploadItemPhotoBackdate.react","CometAlbumUploadItemSideActions.react","CometPhotoAlbumGridItem.react","CometPhotoAlbumGridItemUIActions.react","CometPlaceholder.react","TetraIcon.react","cr:1883901","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.attachment,f=a.children;a=a.mediaIndex;return j.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:j.jsxs(j.Fragment,{children:[j.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:e,mediaIndex:a}),e.fileType==="PHOTO"&&e.state==="UPLOADED"&&(c("CometAlbumUploadItemAttachmentTags.react")!=null||c("CometAlbumUploadItemAttachmentLocation.react")!=null)&&j.jsxs(c("CometPhotoAlbumGridItemUIActions.react"),{children:[c("CometAlbumUploadItemAttachmentTags.react")&&j.jsx(c("CometAlbumUploadItemAttachmentTags.react"),{attachment:e,mediaIndex:a}),c("CometAlbumUploadItemAttachmentLocation.react")?j.jsx(c("CometAlbumUploadItemAttachmentLocation.react"),{attachment:e,mediaIndex:a}):null,j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",{className:"x6s0dn4 x78zum5 xfitlp5 x1mnrxsn x1w0mnb xyqdw3p xg8j3zb",children:j.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(h("478793"),16)})}),children:e.entID!=null?j.jsx(c("CometAlbumUploadItemPhotoBackdate.react"),{photoID:e.entID}):null})]})]}),sideActions:j.jsx(c("CometAlbumUploadItemSideActions.react"),{attachment:e}),sideState:b("cr:1883901")!=null?j.jsx(b("cr:1883901"),{attachment:e}):void 0,top:j.jsx(c("CometAlbumUploadItemAttachmentTop.react"),{attachment:e,mediaIndex:a,children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemFailedAttachmentGatedDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometAlbumUploadItemFailedAttachmentGated.react").__setRef("CometAlbumUploadItemFailedAttachmentGatedDeferred.react"));b=a;g["default"]=b}),98);
__d("CometAlbumUploadItem.react",["CometAlbumUploadItemAttachment.react","CometAlbumUploadItemFailedAttachmentGatedDeferred.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("CometAlbumUploadItemPreexistingAttachment.react").__setRef("CometAlbumUploadItem.react"));function a(a){var b=a.attachment;a=a.mediaIndex;switch(b.state){case"PREEXISTING":return i.jsx(j,{attachment:b,mediaIndex:a});case"NEW":case"QUEUED":case"UPLOADING":case"UPLOADED":return b.file!=null?i.jsx(c("CometAlbumUploadItemAttachment.react"),{attachment:b,mediaIndex:a,children:b.state==="UPLOADED"?null:i.jsx("div",{className:"x1h0vfkc xds687c x5yr21d x10l6tqk x13vifvy",style:{width:(1-(b.percentComplete||0))*100+"%"}})}):null;case"FAILED":return i.jsx(c("CometAlbumUploadItemFailedAttachmentGatedDeferred.react"),{attachment:b,mediaIndex:a})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumMediaAttachmentArea.react",["CometAlbumMediaAttachmentFullscreenNullState.react","CometAlbumMediaGrid.react","CometAlbumUploadItem.react","CometComposerHeadlessMediaUploader.react","CometComposerMediaDropTarget.react","CometPhotoAlbumGridItemBeingTaggedContext.react","CometRouteRenderType","composerMediaAttachmentReducer","react","stylex","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect,l={pushViewTopBar:{backgroundColor:"x1ve1bff",borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",height:"xng8ra",$$css:!0}};function a(a){var b=a.disableVideo,e=a.mediaAttachments,f=a.mediaUploadLoggingMetadata,g=d("CometRouteRenderType").useIsPushView();c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var i=c("useComposerViewStateDispatcher")();k(function(){return function(){i({type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"})}},[i]);var m=(a=e==null?void 0:e.length)!=null?a:0,n=Array.from(Array(m+12)).map(function(a,b){return b<m?j.jsx(c("CometAlbumUploadItem.react"),{attachment:((a=e)!=null?a:[])[b],mediaIndex:b},b):j.jsx("div",{},b)}),o=function(a,b,c){i({sourceIndex:b,targetIndex:c,type:"REORDER_MEDIA_ATTACHMENT_ITEM"})};return j.jsx(c("CometComposerMediaDropTarget.react"),{disableVideo:b,children:function(a){return j.jsxs(j.Fragment,{children:[j.jsx(c("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:f}),j.jsx("div",{className:(h||(h=c("stylex")))(g&&l.pushViewTopBar)}),m===0?!a&&j.jsx(c("CometAlbumMediaAttachmentFullscreenNullState.react"),{disableVideo:b}):j.jsx(d("CometPhotoAlbumGridItemBeingTaggedContext.react").CometPhotoAlbumGridItemBeingTaggedProvider,{children:j.jsx(c("CometAlbumMediaGrid.react"),{onReorder:o,renderedItems:n})})]})}})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments}});g["default"]=b}),98);
__d("CometAlbumUploadItemFailedAttachmentGated.react",["CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemAttachmentTop.react","CometAlbumUploadItemDeleteButton.react","CometAlbumUploadItemFailedAttachmentFooter.react","CometPhotoAlbumGridItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={overlay:{backgroundColor:"x1h0vfkc",end:"xds687c",height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},photoBorderRadius:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var b=a.attachment;a=a.mediaIndex;return j.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:j.jsxs(j.Fragment,{children:[j.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:b,mediaIndex:a}),j.jsx(c("CometAlbumUploadItemFailedAttachmentFooter.react"),{attachment:b})]}),sideActions:j.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:b}),top:j.jsx(c("CometAlbumUploadItemAttachmentTop.react"),{attachment:b,mediaIndex:a,children:j.jsx("div",{className:(h||(h=c("stylex")))(k.overlay,b.fileType==="PHOTO"&&k.photoBorderRadius)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemPreexistingAttachment.react",["CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemDeleteButton.react","CometAlbumUploadPreview.react","CometPhotoAlbumGridItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment;a=a.mediaIndex;return i.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:i.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:b,mediaIndex:a}),sideActions:i.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:b}),top:i.jsx(c("CometAlbumUploadPreview.react"),{imageURL:b.fileType==="VIDEO"?b.imageURL:b.url})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometLocalVideoFileThumbnailSuspense.react",["CometBackgroundImage.react","Promise","generateVideoThumbnails","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var d=a.file,e=a.height,f=e===void 0?100:e;e=a.renderer;a=a.width;var g=a===void 0?100:a;a=k.getFromCache(d,g,f);if((a==null?void 0:a.error)!=null)throw a.error;else if((a==null?void 0:a.src)!=null&&a.src!=="")return e?e(a.src):j.jsx(c("CometBackgroundImage.react"),{alt:d.name,src:a.src});else{var i=document.body;if(i){var l=document.createElement("video");throw new(h||(h=b("Promise")))(function(a){l.setAttribute("style","display: none"),l.setAttribute("src",URL.createObjectURL(d)),l.addEventListener("loadedmetadata",function(){l.duration===Infinity?(l.currentTime=Number.MAX_SAFE_INTEGER,l.ontimeupdate=function(){l.ontimeupdate=null,l.currentTime=0,a(c("generateVideoThumbnails")(l,g,f,1))}):a(c("generateVideoThumbnails")(l,g,f,1))}),i.appendChild(l)}).then(function(a){k.cache[g+"x"+f+"/"+d.name+"/"+d.lastModified]={src:a.thumbnails[0].getURL()}})["catch"](function(a){a=new Error("Video metadata could not be read.");k.cache[g+"x"+f+"/"+d.name+"/"+d.lastModified]={error:a};c("recoverableViolation")(a.message,"video");throw a})["finally"](function(){i.removeChild(l)})}}}k.displayName=k.name+" [from "+f.id+"]";k.cache={};k.getFromCache=function(a,b,c){return k.cache[b+"x"+c+"/"+a.name+"/"+a.lastModified]};g["default"]=k}),98);
__d("composerAlbumCreateAudienceTransform",["massagePrivacyIfSharedAlbum","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;e=(e=a.albumData)==null?void 0:e.albumPrivacy;a=(((a=a.albumData)==null?void 0:a.albumContributors)||[]).length>0;a=c("massagePrivacyIfSharedAlbum")(a,e);if(a==null)throw c("unrecoverableViolation")("Trying to render composer with no privacy scope","comet_composer");d(babelHelpers["extends"]({},b,{privacy:a}))}g["default"]=a}),98);
__d("composerAlbumCreateContributorsTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=(a=a.albumData)==null?void 0:a.albumContributors)!=null?a:[];a=a.map(function(a){return a.key});c(babelHelpers["extends"]({},b,{contributors:a}))}f["default"]=a}),66);
__d("composerAlbumCreateDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumDescription;a==null?c(b):c(babelHelpers["extends"]({},b,{description:a}))}f["default"]=a}),66);
__d("composerAlbumCreateTitleTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumTitle;a==null?c(b):c(babelHelpers["extends"]({},b,{title:a}))}f["default"]=a}),66);
__d("composerAlbumMediaAttachmentTransform",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b,c=a.data;a=a.locationTag;var d=c.id,e=c.tags;d={id:d};if(((b=c.message)==null?void 0:b.text)!=null){d.message={text:(b=c.message)==null?void 0:b.text}}a!=null&&(d.location_tag={place_id:a.placeID});Array.isArray(e)&&e.length>0&&(d.tags=e.filter(Boolean).map(function(a){var b,c=a.taggee;a=babelHelpers.objectWithoutPropertiesLoose(a,["taggee"]);b=c==null?void 0:(b=c.metadata)==null?void 0:b.product_tag_type;return b!=null?babelHelpers["extends"]({},a,{taggee:{id:c.id,metadata:{product_tag_type:b}}}):babelHelpers["extends"]({},a,{taggee:{id:c.id}})}));return d}function h(a){var b;a=a.data;var c=a.id;c={id:c};if(((b=a.message)==null?void 0:b.text)!=null){c.message={text:(b=a.message)==null?void 0:b.text}}return c}function i(a){if(a.fileType==="PHOTO")return{photo:g(a)};else if(a.fileType==="VIDEO")return{video:h(a)}}function a(a,b,c){a.mediaAttachments==null?c(b):c(babelHelpers["extends"]({},b,{attachments:a.mediaAttachments.map(function(a){return a.state==="UPLOADED"||a.state==="PREEXISTING"?i(a):null}).filter(Boolean)}))}f["default"]=a}),66);
__d("composerAlbumStoryDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d,e;d=(d=a.albumData)==null?void 0:d.albumDescription;e=(e=a.albumData)==null?void 0:e.albumID;a=(a=a.mediaAttachments)!=null?a:[];d==null||e!=null&&a.length<=1?c(b):c(babelHelpers["extends"]({},b,{message:{text:d}}))}f["default"]=a}),66);
__d("composerGroupAlbumCreateTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)!=null?a:{};var d=a.albumDescription;a=a.albumTitle;if(a==null&&d==null)return c(b);b=babelHelpers["extends"]({},b);a!=null&&(b.title=a);d!=null&&(b.description=d);return c(b)}f["default"]=a}),66);